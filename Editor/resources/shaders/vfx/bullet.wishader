{"fragment":"#version 330\n\nlayout (location = 0) out vec4 FragColor;\nlayout (location = 1) out vec4 BrightColor;\n\nin vec2 TexCoord;\nin vec3 Normal;\nin vec3 LocalPos;\n\n//====================================\n// all vfx must have this unifroms\n//lifetime form 0 to 1,  100% normalized\nuniform float u_LifeTime;\nuniform vec4 u_Color;\n//=====================\nuniform vec3 u_CameraPosition;\nuniform sampler2D u_Texture;\nuniform sampler2D u_TransparencyTexture;\n\nvoid main()\n{\n\n    vec4 colorTex = texture2D(u_Texture, TexCoord) * u_Color;\n    vec4 colorTransp = texture2D(u_TransparencyTexture, TexCoord);\n\n    float grayscale = dot(colorTransp.rgb, vec3(0.299, 0.587, 0.114));\n\n    FragColor = colorTex;\n    FragColor.a = 1.0 - grayscale;\n\n\n    // check whether result is higher than some threshold, if so, output as bloom threshold color\n    float brightness = dot(FragColor.rgb, vec3(0.2126, 0.7152, 0.0722));\n    if(brightness > 1.0)\n        BrightColor = vec4(FragColor.rgb, 1.0);\n\telse\n\t\tBrightColor = vec4(0.0, 0.0, 0.0, 1.0);\n}","uniforms":{"u_LifeTime":3,"u_Color":6,"u_Texture":11}}